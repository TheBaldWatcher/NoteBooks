

[toc]

## week 101

* 上周工作
  * 值周：配合金俭迁移正排索引、增加push process的exp队列、将recall quota
  * push
    * 性能优化
      * cache。已起实验——负向，暂时取消
      * 摸底variant、unique_ptr
    * 清理index代码，已起实验。发现需要靠负反馈，但redis没了，待查
  * 文档
    * cvp材料
    * OKR
* 本周计划
  * push：
    * 性能优化
    * 开启负反馈
    * 串讲
    * 协作流程v1.0
* TODO
  * BIT实现、了解下trace 和mtr、cachelib、sonic-cpp
* 12/26
  * 性能优化：
    * formal.news_rs.recommend_trpc_universe.sz118978  debug
    * formal.news_rs.recommend_trpc_universe.sz120444  base_exp
    * set0 base vs set1. Uniqu_opt

* 12/27
  * 优化结论不鲁棒，_M_release
* 12/28
  * 代码清理
    * summary_ab
    * retrieveIndexesByCutTag、retrieveIndexesByCutSecondCategory、retrieveIndexesByCutfirstCategory，40*2 = 80
    * deduplicate 15
    *  json
      * if (diversity_conf_data.window == "Today") ？
      *  if (conf_data_json.HasMember("city_levels") && conf_data_json["city_levels"].IsArray()) 20
      *  if (conf_data_json.HasMember("city_levels") && conf_data_json["city_levels"].IsArray())  30
      * if (conf_data_json.HasMember("exp_tabid") && conf_data_json["exp_tabid"].IsString() 8
    * Debug print map: 50
    * Logreplay或者其他的怎么做diff？
  * fe轻量级
    * csr要去掉么？
    * tbb用在哪
    * list、map？
* 12/29
  * fe优化
    * unique去掉后无耗时收益。compute耗时66ms、emit耗时15ms、析构9ms
    * flsVec
      * ComputeDataPb无收益
      * extract的vec\<ComputeDataPb\>  ~~减少至49ms，优化15ms~~
      * Feature的data 无收益
      * Fiberlocal extract vec\<Computedata\>, 57ms，优化9ms(这个波动比较大，40-70都有)、优化掉析构耗时9ms
  
* 12/30
  * fe优化
    * dense sparse区分：关闭后，高活的带宽会增加50%
    * 想了下数据结构
  

## week 102

* 上周工作
  * 性能优化
    * 耗时减半，但反应到核数上，只有300核，主要是因为还是过载状态。
    * arena优化不明显，机器内的内存波动较大，内存峰值较基线高。改起来也比较费时，不再进一步深究。
    * tbb调研：bazel编译比较困难，gcc9.1内置了，可以考虑升级gcc（9.4于21年6月发布，当前最新版本是22年8月的12.2）
    * fe lite数据结构：
      * slot、key、value对于dense特征会冗余一个key的存储，看是否要区分？
  * 负反馈
  * 代码清理
* 本周计划
* TODO
  * BIT实现、了解下trace 和mtr、cachelib、sonic-cpp
  * 招人原因、对我定位、工作内容
* 01/03
  * 请假
* 01/04
  * tapd： fe设计扩1天？
  * 代码精简
  * 新分类切换
  * 协作流程v1.0
  * 负反馈
  * fe lite review
    * simd指令优化。128维的embedding
    * hash前缀、常量、魔数收拢，避免散落在代码各处
    * map考虑改为unordered_map，或进一步改为vector。如features、slot_id2threadhold、config_lz_
    * 挪到离线处理：字符串处理。
    * 字符串能用数字的尽量用数字，如cat1、cat2、cp、tag
    * 推全前要有测试报告，说明fe lite和fe的差异
    * cache：
      * 补全cache的更新机制、调整数据排布，确保对cache友好（二期可以用valgrind跑下）
      * 设置单独的trpc协程、是否绑核（不太推荐，得测一下）
    * slot的退场机制
    * 待确认
      * ~~不同用户特征是否定长~~
      * slot顺序传输是否能有收益
      * 找算法确认下为啥会有好几种hash slot的方式，是否可以统一
      * csr是否可以去掉。若不能去掉，fe lite是否直接按csr格式进行输出
    * case 2的特征抽取，放到fe lite外，减少和业务的强绑定
    * 二期
      * dag优化
* 01/05
  * 请假
* 01/06
  * 新分类
  * 试试A、T、M、UBSan？
  * Push规范
  * fe lite——节前大约有2x9天，节后2x4天，共2x13天（考虑到假期，会不足）
    * ————————最小可用版2x14。2月初预期：抽象改造完成，性能和原来持平。可上线
    * 基本框架 2x2
    * 新版算子实现 2x10
    * diff 2x2
    * ———————— 优化。2月共2x20天，除去值周为2x15天。性能优化版。预期性能优化版起实验
      * 框架级优化
        * 直接输出csr格式。1x5？——user cache。？
        * arena 与对象池。1x5
          * PMR？
        * item级别的cache。1x7
          * 索引更新后的同步机制
      * 具体算子的优化。2x10
        * 各算子内部的cache
        * map转vector
        * 字符串改为数字
          * 字符串等处理从在线挪到离线，需修改离线任务——cache后在看
        * 常量、魔数收拢
    * ————————二期
    * 配置化?
    * DAG
    * simd指令优化
    * 数据排布优化、slot传输顺序?——待定
    * 特征退场
    * trpc单独线程与绑核?

## week 103

* 上周工作
  * fe：
    * 确认csr格式问题，本周一会和大卫再聊一下
    * 根据反馈，梳理工作与排期
  
* 本周计划
  * Fe：开发框架、算子实现
  * 新tag
  
* 其他
  * BIT实现、了解下trace 和mtr、cachelib、sonic-cpp
  * 新分类
  * 试试A、T、M、UBSan？
  * Push规范
  * PMR？
  
* 01/09
  * fe排期
    * 功能：根据输入数据，抽取特征，无量结果无diff（或diff具可解释性）
    * 性能：有显著耗时收益
    * 时间点：2月初抽取库初版可上线，性能持平；2月底性能优化1期；3月底2期上线

* 01/10
  
  * 成哥年终宣讲+聚餐
  
* 01/11

  * 代码精简：

  * ```txt
    ├── business
    │   ├── push: 8151+285
    ├── common: 3534+109
    ├── feature_op: 3081+2220
    ├── interface:4536+0
    ├── rpc_fetcher:1044+
    
    8151+3534+3081+4536+1044=20346
    285+109+2220=2614
    20346+2614=22960
    ```

  * Fe lite: 先出个MVP看下效果

    * 1、features map 转vector
      2、arena挪到协程全局变量
      3、item cache 选择一个函数的slotid做cache
      4、time字符串计算逻辑提前到索引。
    * item耗时排序
      * AssembleItemFeature ,AssembleFloatVecFeature, AssembleItemAttributeFeature7
      * AssembleRTFeature 18
      *  AssembleUserProfileFeature_Threshold 30

* 01/12

  * Fe lite
    * features map 转vector
    * arena挪到协程全局变量
    * user 不用每次都抽
    * 编译通过，运行有core‘

* 01/13

  * fe lite

    * 01/14

    * ```
      优化版
      "dhf3": {
                          "count": 27243,
                          "latency": 1403,
                          "latency_80": 1958,
                          "latency_90": 2144,
                          "latency_99": 3062,
                          "latency_999": 4570,
                          "latency_9999": 8290,
                          "max_latency": 8290,
                          "qps": 245
                      },
                      "dhf4": {
                          "count": 27243,
                          "latency": 825,
                          "latency_80": 906,
                          "latency_90": 1054,
                          "latency_99": 1290,
                          "latency_999": 2347,
                          "latency_9999": 5712,
                          "max_latency": 5712,
                          "qps": 283
                      },
                      "dhf3": {
                          "count": 5172,
                          "latency": 3808,
                          "latency_80": 4174,
                          "latency_90": 4393,
                          "latency_99": 5052,
                          "latency_999": 5805,
                          "latency_9999": 12813,
                          "max_latency": 12813,
                          "qps": 335
                      },
                      "dhf4": {
                          "count": 5171,
                          "latency": 950,
                          "latency_80": 1024,
                          "latency_90": 1218,
                          "latency_99": 1471,
                          "latency_999": 1733,
                          "latency_9999": 7848,
                          "max_latency": 7848,
                          "qps": 335
                      },
      优化前
                      "dhf3": {
                          "count": 54098,
                          "latency": 142,
                          "latency_80": 196,
                          "latency_90": 232,
                          "latency_99": 322,
                          "latency_999": 403,
                          "latency_9999": 731,
                          "max_latency": 792,
                          "qps": 2704
                      },
                      "dhf4": {
                          "count": 54098,
                          "latency": 25,
                          "latency_80": 33,
                          "latency_90": 39,
                          "latency_99": 60,
                          "latency_999": 107,
                          "latency_9999": 195,
                          "max_latency": 217,
                          "qps": 2704
      ```

    * 

  * 读书会

    * google与软件工程


## week 104

* 上周工作

  * fe：map转vec——粗略侧了下，负收益
  * cr
  * 聚餐

* 本周计划

  * fe：mvp
    * 1、features map 转vector
      2、arena挪到协程全局变量
      3、item cache 选择一个函数的slotid做cache
      4、time字符串计算逻辑提前到索引。

* TODO

  * BIT实现、了解下trace 和mtr、cachelib、sonic-cpp
  * 新分类
  * 试试A、T、M、UBSan？
  * Push规范
  * PMR？

* 01/16

  * fe：MVP——AssembleUserProfileFeature_Threshold 只抽一次，收益明显

    * map转vec负收益再确认下

    * arean+AssembleUserProfileFeature_Threshold

    * ```
      // user只算一次
      "dhf2": {
                          "count": 198,
                          "latency": 42935,
                          "latency_80": 71415,
                          "latency_90": 90276,
                          "latency_99": 172490,
                          "latency_999": 172490,
                          "latency_9999": 172490,
                          "max_latency": 172490,
                          "qps": 7
                      },
                      "dhf3": {
                          "count": 198,
                          "latency": 27889,
                          "latency_80": 36092,
                          "latency_90": 56245,
                          "latency_99": 97264,
                          "latency_999": 97264,
                          "latency_9999": 97264,
                          "max_latency": 97264,
                          "qps": 7
                      },
      ```

    * 19:00左右反转了114机器的镜像——114vs253其他阶段耗时反转了。为了避免机器的影响，调换了下镜像

    * | 耗时项           | benchmark(ms) | 优化后(ms) | 优化比例 |
      | ---------------- | ------------- | ---------- | -------- |
      | feature assemble | 69.68         | 37.37      | 46.37%   |
      | ranking cost     | 9167          | 7516.76    | 18%      |
      | total cost       | 12986.92      | 11180.08   | 13.91%   |

* 01/17

  * fe lite

    * 全量压测fe效果

      * 压测镜像 fe_lite_880975051.0117.v1.6788_222e28a_202301171446
      * 回滚镜像 rs_online_combo_20230111-2-sync-tag.132487_3401d70_202301161715

    * Map to vec

      * ```txt
          优化后
          "dhf3": {
                            "count": 8710,
                            "latency": 4069,
                            "latency_80": 4411,
                            "latency_90": 4610,
                            "latency_99": 5340,
                            "latency_999": 10253,
                            "latency_9999": 14110,
                            "max_latency": 14110,
                            "qps": 325
                        },
                        "dhf4": {
                            "count": 8709,
                            "latency": 954,
                            "latency_80": 1007,
                            "latency_90": 1215,
                            "latency_99": 1582,
                            "latency_999": 2105,
                            "latency_9999": 3066,
                            "max_latency": 3066,
                            "qps": 325
                        },
        回退SlotId2FloatPairVecFeature优化
                        "dhf3": {
                            "count": 5561,
                            "latency": 3939,
                            "latency_80": 4280,
                            "latency_90": 4512,
                            "latency_99": 5210,
                            "latency_999": 8966,
                            "latency_9999": 13695,
                            "max_latency": 13695,
                            "qps": 350
                        },
                        "dhf4": {
                            "count": 5561,
                            "latency": 788,
                            "latency_80": 851,
                            "latency_90": 1052,
                            "latency_99": 1332,
                            "latency_999": 1706,
                            "latency_9999": 2242,
                            "max_latency": 2242,
                            "qps": 350
                        },
        回退SlotId2FloatVecFeature
                   "dhf3": {
                            "count": 29076,
                            "latency": 249,
                            "latency_80": 301,
                            "latency_90": 334,
                            "latency_99": 486,
                            "latency_999": 996,
                            "latency_9999": 2181,
                            "max_latency": 5101,
                            "qps": 2207
                        },
                        "dhf4": {
                            "count": 29076,
                            "latency": 41,
                            "latency_80": 52,
                            "latency_90": 61,
                            "latency_99": 97,
                            "latency_999": 221,
                            "latency_9999": 744,
                            "max_latency": 991,
                            "qps": 2207
                        },
                        
        优化前
        
        ```

* 01/18

  * fe lite——已起实验。map2vec验证中

    * 下午起实验：user+item cache

    * map to vec

    * 耗时问题是由于map<int, T>在T很大时，开销比vec<T>小

    * Core?

      * AssembleFloatVecFeature 有问题array越界了，写的128……

    * ```txt
      // 优化后
      "dhf1": {
                          "count": 15,
                          "latency": 983274,
                          "latency_80": 993537,
                          "latency_90": 996948,
                          "latency_99": 1596797,
                          "latency_999": 1596797,
                          "latency_9999": 1596797,
                          "max_latency": 1863005,
                          "qps": 1
                      },
                      "dhf3": {
                          "count": 4095,
                          "latency": 3987,
                          "latency_80": 4275,
                          "latency_90": 4500,
                          "latency_99": 5177,
                          "latency_999": 7909,
                          "latency_9999": 13357,
                          "max_latency": 13357,
                          "qps": 345
                      },"dhf4": {
                          "count": 4095,
                          "latency": 47,
                          "latency_80": 54,
                          "latency_90": 63,
                          "latency_99": 89,
                          "latency_999": 164,
                          "latency_9999": 811,
                          "max_latency": 811,
                          "qps": 345
                      },
      ```

* 01/19

  * fe lite:

    * slot_id_2_float_vec_features负收益：13 vs 28ms。应该是由于太稀疏了

    * ```txt
      // 优化前
      "dhf2": {
                          "count": 3,
                          "latency": 13757,
                          "latency_80": 13757,
                          "latency_90": 13757,
                          "latency_99": 13757,
                          "latency_999": 13757,
                          "latency_9999": 13757,
                          "max_latency": 13757,
                          "qps": 0
                      },
                      "dhf3": {
                          "count": 390,
                          "latency": 85,
                          "latency_80": 98,
                          "latency_90": 108,
                          "latency_99": 122,
                          "latency_999": 209,
                          "latency_9999": 209,
                          "max_latency": 209,
                          "qps": 13
                      },
                      "dhf4": {
                          "count": 390,
                          "latency": 19,
                          "latency_80": 23,
                          "latency_90": 25,
                          "latency_99": 43,
                          "latency_999": 95,
                          "latency_9999": 95,
                          "max_latency": 95,
                          "qps": 13
                      },
      // 优化slot_id_2_float_vec_features后, 200个用户会core
      "dhf2": {
                          "count": 2,
                          "latency": 28366,
                          "latency_80": 28366,
                          "latency_90": 28366,
                          "latency_99": 28366,
                          "latency_999": 28366,
                          "latency_9999": 28366,
                          "max_latency": 28366,
                          "qps": 0
                      },
                      "dhf3": {
                          "count": 260,
                          "latency": 161,
                          "latency_80": 168,
                          "latency_90": 175,
                          "latency_99": 265,
                          "latency_999": 293,
                          "latency_9999": 293,
                          "max_latency": 293,
                          "qps": 13
                      },
                      "dhf4": {
                          "count": 260,
                          "latency": 55,
                          "latency_80": 62,
                          "latency_90": 67,
                          "latency_99": 81,
                          "latency_999": 81,
                          "latency_9999": 81,
                          "max_latency": 81,
                          "qps": 13
                      },
      // 优化f2，size = 5，确认了之前的core多半是array size太大的问题。同时，就算5个性能也打不平
      "dhf2": {
                          "count": 197,
                          "latency": 66026,
                          "latency_80": 99497,
                          "latency_90": 141247,
                          "latency_99": 243983,
                          "latency_999": 243983,
                          "latency_9999": 243983,
                          "max_latency": 243983,
                          "qps": 9
                      },
                      "dhf3": {
                          "count": 57799,
                          "latency": 185,
                          "latency_80": 227,
                          "latency_90": 280,
                          "latency_99": 385,
                          "latency_999": 539,
                          "latency_9999": 1826,
                          "max_latency": 2385,
                          "qps": 2723
                      },
                      "dhf4": {
                          "count": 57799,
                          "latency": 39,
                          "latency_80": 50,
                          "latency_90": 59,
                          "latency_99": 95,
                          "latency_999": 188,
                          "latency_9999": 824,
                          "max_latency": 1567,
                          "qps": 2723
                      },
      // 优化2 前
      "dhf2": {
                          "count": 198,
                          "latency": 58833,
                          "latency_80": 79985,
                          "latency_90": 121262,
                          "latency_99": 218989,
                          "latency_999": 218989,
                          "latency_9999": 218989,
                          "max_latency": 218989,
                          "qps": 8
                      },
                      "dhf3": {
                          "count": 52040,
                          "latency": 183,
                          "latency_80": 235,
                          "latency_90": 276,
                          "latency_99": 379,
                          "latency_999": 589,
                          "latency_9999": 1311,
                          "max_latency": 1985,
                          "qps": 2171
                      },
                      "dhf4": {
                          "count": 52040,
                          "latency": 37,
                          "latency_80": 46,
                          "latency_90": 55,
                          "latency_99": 88,
                          "latency_999": 220,
                          "latency_9999": 487,
                          "max_latency": 761,
                          "qps": 2170
                      },
      ```

## week 105

* 上周工作

  * fe
    * map转vec负收益：vec对空语义支持不好，尤其是EleType特别大的时候
    * user只算一次+item cache已起实验

* 本周计划

  * user + itemcache推全

* 其他

  * BIT实现、了解下trace 和mtr、cachelib、sonic-cpp
  * 新分类
  * 试试A、T、M、UBSan？
  * Push规范
  * PMR？

* 01/30：请假

* 01/31

  * okr

  * 抽象算子

    * ```c++
      // 自由函数太丑了，还是改成Struct吧
      div(513 + 4, assign(513 + 0, from.b_clk, &features), assign(513 + 2, from.b_expo, &features), &features);
      ```

    * 暂时打算只整理代码，不抽算子了；之后重点在性能优化上。需要和kexing确认下。

* 02/01

  * debug
    * 插件重复推荐——相似去重问题
    * 连接数——调大trpc版本
  * push 新需求
    * 谁来触发rs
    * 中枢判断是自有还是厂商通道
    * 半小时一次?
    * 去重：中枢会做时间间隔过滤
    * 死循环：有时间间隔、条数限制
  * 周报
    * 
    * 内容字段ab-新分类体系切换
      * 设计文档 https://doc.weixin.qq.com/doc/w3_AesAfQbQAOM0Le6zH4hQLS9ki1QHx?scode=AJEAIQdfAAoIeVij73AesAfQbQAOM 待完善、评审
    * 2月迭代需求：文章找人系统下线、push新需求

* 02/02

  * 组会
    * 串讲：
    * 柔性降级
  * fe
    * 抽函数，为下周donghaoshi的算子配置化打基础

* 02/03

  * fe
    * 协助查diff



## week 106

* 上周工作

  * 抽象算子
  * 和donghaoshi查diff
  * 连接数问题——升级trpc版本

* 本周计划

  * 值周
  * 抽象算子？
  * item cache user推全？
  * 升级trpc版本推全

* 其他

* 02/06

  * 值日
    * [ ] combo
    * [ ] MR
    * [ ] 反转
    * [ ] 查item 为0的偶现问题
  * fe——提MR。但似乎不太用得上。看donghaoshi的初版来调整吧

* 02/07

  * 值日
    * 起fe的基线实验
  * 配流水线：明天找samuelcui对一下，和中心的对齐

* 02/08

  * 值日
    * [x] combo效果确认
    * [x] exp31发布
    * [x] exp30发布
    * [ ] debug item 0
      * [ ] 26个缺失
      * [ ] RecallMergeFilterModule缺失
      * [ ] param_type会出现为0的情况
  * [x] 周报
  * [ ] Todo:getmodelinfo的重试优化
  * [x] 填写灿哥的文档

* 02/09

  * 值日
    * debug item 0
  * [ ] Todo:getmodelinfo的重试优化
  * [ ] push 缩容，以提升cpu负载

* 02/10

  * | 时间 | 基线推全                                                     | Exp30（combo）                                               |
    | ---- | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | 6    | 1、特征抽取性能优化 @donghaoshi<br/>2、画像请求性能优化 @ginoshi<br/>3、召回打散策略优化 @waynetao | bertTitleFilter增加跨批次数量参数 @thinkxia                  |
    | 8    | bertTitleFilter增加跨批次数量参数 @thinkxia(夏经先)          | 外显5条实验@leahan<br />算法热点召回多级boost实验@leahan<br />trpc框架从0.9.12升级到0.9.20@hongfendong |



## week 107

* 上周工作

* 本周计划

* 其他

* 02/13

  * GetModelInfo还是改为三步走
  * 晒码会
  * push p99 okr

* 02/14

  * OKR 看盘granfana sre
  * 整理代码
  * GetModelInfo
    * diff与收益：没diff，但是没耗时收益，待查

* 02/15

  * GetModelInfo：diff与收益
  * 补：异常打分的监控
  * processor  tab加layer

* 02/16

  * [x] processor  tab加layer

  * [ ] 成本

  * [ ] 补：异常打分的监控

  * [ ] GetModelInfo：diff与收益

  * [ ] 串讲

    * [ ] redis成本
    * [ ] 内容是否split，是否是json，是否可以改pb

  * [ ] 晒码会

    * [ ] 单一职责的原则
    * [ ] public注释
    * [ ] 变量命名

  * [ ] gcc12

    * [ ] ```txt
      # 参考自 https://git.woa.com/trpc-cpp/trpc-cpp/blob/master/docker/Dockerfile-gcc12
      # Base images 基础镜像
      #FROM mirrors.tencent.com/tlinux/tlinux3.2:latest
      FROM mirrors.tencent.com/todacc/trpc-cpp-compile:1.0.6
      # 环境初始化
      # 配置代理
      # 修改yum源
      # 安装cmake3
      # 安装bazel3.5.1
      RUN mkdir -p /root/env/proxy \
          && wget "http://download.devcloud.oa.com/enable_internet_proxy.sh" -O /root/env/proxy/proxy.sh \
          && source /root/env/proxy/proxy.sh \
          && yum install -y cmake3 \
          && yum install -y java-1.8.0-openjdk* \
          && rm -rf /root/env \
          && yum install wget curl strace valgrind ccache distcc -y \
          && yum install -y curl-devel \
          && yum install -y mysql-devel \
          && yum install -y gperftools \
          && yum install -y gperftools-devel \
          && yum install -y openssl \
          && yum install -y openssl-devel \
          && yum install glibc-headers gcc-c++ -y\
          && yum install -y wget python3 python3-pip python3-devel  ons-libnameapi-1.8.5
      RUN mkdir -p /root/install \
          && cd /root/install \
          && wget "https://github.com/gcc-mirror/gcc/archive/refs/tags/releases/gcc-12.1.0.tar.gz" -O gcc-12.1.0.tar.gz \
          && tar -zxf gcc-12.1.0.tar.gz \
      	&& cd gcc-releases-gcc-12.1.0 \
          && ./contrib/download_prerequisites \
          && mkdir build && cd build \
          && ../configure --prefix=/usr/ --enable-checking=release --enable-languages=c,c++ --disable-multilib \
          && make -j8 \
          && sudo make install \
          && echo "clean" \
          && rm -rf /root/install
      RUN mkdir -p /root/env/bazel \
          && wget https://github.com/bazelbuild/bazel/releases/download/3.5.1/bazel-3.5.1-installer-linux-x86_64.sh -O /root/env/bazel/bazel.sh \
          && chmod +x /root/env/bazel/bazel.sh \
          && /root/env/bazel/bazel.sh > /dev/null \
          && rm -rf /root/env
      WORKDIR /
      EXPOSE 36000
      
      #MAINTAINER 维护者信息
      LABEL MAINTAINER="hongfendong"
      
      #ENV 设置环境变量
      ENV PATH /usr/local/nginx/sbin:$PATH
      
      #RUN 执行以下命令
      RUN yum install -y wget  && yum clean all
      
      #WORKDIR 相当于cd
      WORKDIR /usr/local/app
      ```

* 02/17

  * [ ] 整理晒码会代码

  * [ ] 成本
  * [ ] 补：异常打分的监控
  * [ ] GetModelInfo：diff与收益
  * [ ] 串讲
    * [ ] redis成本
    * [ ] 内容是否split，是否是json，是否可以改pb
  * [ ] 晒码会
    * [ ] 单一职责的原则
    * [ ] public注释
    * [ ] 变量命名

## week 108

* 上周工作

  * getmodelinfo开发与自测
  * 晒码会代码整理
  * push
    * processor  tab加layer
    * 加sre指标、granfana看板
    * push串讲
    * 尝试升级gcc12——一直有编译问题
    * push 索引加载问题，导致返回空

* 本周计划

  * fe

* todo

  * 晒码会

    * [ ] 单一职责的原则
    * [ ] public注释
    * [ ] 变量命名

* 02/20

  * fe diff
  * push
    * 排查线上item 为0：重启漏了一批
    * 问下告警阈值设多少合适
    * 编译gcc12版本

* 02/21

  * Fe diff

    * ```bash
      grep "samples diff" ../log/trpc.* |grep -v 2638|grep -v  "trace_id_xxx"|grep -v 2577|awk -F "slotid:" '{print $2+0}'|awk '!($0>=6001 && $0 <=6009 || $0>=6010 && $0<=6012 || $0>=6013 && $0<=6015||$0>=6016 && $0<=6071)'|awk '!/106|115|124|407|417|427|1204|1212|1220|809|823|837|857|873|1108|1120|1132|31/'|sort |uniq -c 
      ```

    * Trace_id_xxx有些diff

    * 大部分diff为 V2:empty

    * float精度调整至相对值的千分之后，无其他diff

  * 串讲

    * back pressure
      process 丢任务监控 sli、cpu
      devid 是否能拿全数据。yanghongyuan

* 02/22

  * fe diff
    * getmodelinfo  上报

* 02/23

  * fe 晒码会代码整理
  * push
    * c++12编译通过
    * 升级trpc 0.9.12->0.15.0调试中
    * q36:
      * 有些没拿到：洪彬传，双读——存储上涨？
      * devid没有q36：——舍弃这部分用户？和算法确认
      * q36没有新分类：用视频的去补，效果是否可接受？仍有的gap，舍弃这部分用户？

* 02/26

  * Fe: v2有diff

    * slot没问题，v0、v2、base不一致——default_parameter.json忘了同步了

    * v0和base一致，但是和v2不一致

    * ```txt
      v2: v2 1 +slot 0/1  slot结果都是一致的，所以slot没问题
      {
          "data": [
              {
                  "click_history": 0,
                  "down3_personal": 0,
                  "items": [
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.940080,1.000000,0.999996,0.998475,1.031569,1.499549,(1+0.999996*100.000000)**3.000000x(1+0.998475*50.000000)**3.000000=136056553472.000000 down:(1+0.940080*100.000000)**3.000000x(1+1.000000*50.000000)**3.000000=113760231424.000000",
                          "news_id": "20230223V05LX100",
                          "reason": "Dssm-U2I-Exp",
                          "score": 113760231000.0,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.945199,1.000000,0.316124,0.998493,3.085975,1.344558,(1+0.316124*100.000000)**3.000000x(1+0.998493*50.000000)**3.000000=4580702720.000000 down:(1+0.945199*100.000000)**3.000000x(1+1.000000*50.000000)**3.000000=115609001984.000000",
                          "news_id": "20230221V07P0P00",
                          "reason": "Dssm-U2I-Exp",
                          "score": 115609000000.0,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.146912,0.999525,0.249016,0.577166,0.202896,0.565250,(1+0.249016*100.000000)**3.000000x(1+0.577166*50.000000)**3.000000=462568512.000000 down:(1+0.146912*100.000000)**3.000000x(1+0.999525*50.000000)**3.000000=511767104.000000",
                          "news_id": "20230223V04Q3V00",
                          "reason": "Batch-Hot|Cluster|Dssm-U2I-Exp|Hot-News|Interest-Hot-V1",
                          "score": 511767104,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.153518,0.949800,0.113731,0.000001,0.838967,0.718401,(1+0.113731*100.000000)**3.000000x(1+0.000001*50.000000)**3.000000=1894.516724 down:(1+0.153518*100.000000)**3.000000x(1+0.949800*50.000000)**3.000000=498489056.000000",
                          "news_id": "20230218V055WO00",
                          "reason": "Dssm-U2I-Exp",
                          "score": 498489056,
                          "title_tag": ""
                      }
                  ],
                  "rerank_rule": "0|10|10:7|10|10",
                  "result_number": 4,
                  "top_image": 1,
                  "user_profile": 1,
                  "wxopenid": "o04IBAAkwhMinr2DXHZj9z_XX5BY"
              }
          ],
          "trace_id": "77889900"
      }
      
      v2: v2 0 + filter 1
      {
          "data": [
              {
                  "click_history": 0,
                  "down3_personal": 0,
                  "items": [
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.009025,0.022000,0.131037,0.449043,0.672891,0.605968,(1+0.131037*100.000000)**3.000000x(1+0.449043*50.000000)**3.000000=36186672.000000 down:(1+0.009025*100.000000)**3.000000x(1+0.022000*50.000000)**3.000000=63.770111",
                          "news_id": "20230223V05LX100",
                          "reason": "Dssm-U2I-Exp",
                          "score": 63.7701111,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.014674,0.069158,0.079756,0.623075,0.824221,0.776944,(1+0.079756*100.000000)**3.000000x(1+0.623075*50.000000)**3.000000=24036964.000000 down:(1+0.014674*100.000000)**3.000000x(1+0.069158*50.000000)**3.000000=1330.781128",
                          "news_id": "20230224V0ADBR00",
                          "reason": "Cluster|Dssm-U2I-Exp|Hot-News|Interest-Hot-V1",
                          "score": 1330.78113,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.003544,0.046045,0.035592,0.456680,0.694325,0.615408,(1+0.035592*100.000000)**3.000000x(1+0.456680*50.000000)**3.000000=1283063.000000 down:(1+0.003544*100.000000)**3.000000x(1+0.046045*50.000000)**3.000000=89.464386",
                          "news_id": "20230224V007UH00",
                          "reason": "Batch-Hot|Cluster|Interest-Hot-V1",
                          "score": 89.464386,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.010323,0.021822,0.128643,0.431007,0.727812,0.720214,(1+0.128643*100.000000)**3.000000x(1+0.431007*50.000000)**3.000000=30559804.000000 down:(1+0.010323*100.000000)**3.000000x(1+0.021822*50.000000)**3.000000=76.757050",
                          "news_id": "20230224V054PF00",
                          "reason": "Dssm-U2I-Exp|Hot-News|Interest-Hot-V1",
                          "score": 76.7570496,
                          "title_tag": ""
                      }
                  ],
                  "rerank_rule": "0|10|4:10:7|10|10",
                  "result_number": 4,
                  "top_image": 1,
                  "user_profile": 1,
                  "wxopenid": "o04IBAAkwhMinr2DXHZj9z_XX5BY"
              }
          ],
          "trace_id": "77889900"
      }
      
      base :
      {
          "data": [
              {
                  "click_history": 0,
                  "down3_personal": 0,
                  "items": [
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.009025,0.022000,0.131037,0.449043,0.672891,0.605968,(1+0.131037*100.000000)**3.000000x(1+0.449043*20.000000)**3.000000=2789359.750000 down:(1+0.009025*100.000000)**3.000000x(1+0.022000*20.000000)**3.000000=20.560911",
                          "news_id": "20230223V05LX100",
                          "reason": "Dssm-U2I-Exp",
                          "score": 20.5609112,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.010323,0.021822,0.128643,0.431007,0.727812,0.720214,(1+0.128643*100.000000)**3.000000x(1+0.431007*20.000000)**3.000000=2372656.500000 down:(1+0.010323*100.000000)**3.000000x(1+0.021822*20.000000)**3.000000=24.879978",
                          "news_id": "20230224V054PF00",
                          "reason": "Dssm-U2I-Exp|Hot-News|Interest-Hot-V1",
                          "score": 24.8799782,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.014674,0.069158,0.079756,0.623075,0.824221,0.776944,(1+0.079756*100.000000)**3.000000x(1+0.623075*20.000000)**3.000000=1763863.750000 down:(1+0.014674*100.000000)**3.000000x(1+0.069158*20.000000)**3.000000=203.318420",
                          "news_id": "20230224V0ADBR00",
                          "reason": "Cluster|Dssm-U2I-Exp|Hot-News|Interest-Hot-V1",
                          "score": 203.31842,
                          "title_tag": ""
                      },
                      {
                          "exp_id": "9730133,9872413,7937200,9529030",
                          "mtl_score": "top:,0.008674,0.020199,0.101043,0.497053,0.968896,1.000933,(1+0.101043*100.000000)**3.000000x(1+0.497053*20.000000)**3.000000=1793294.500000 down:(1+0.008674*100.000000)**3.000000x(1+0.020199*20.000000)**3.000000=18.022648",
                          "news_id": "20230224V035WH00",
                          "reason": "Batch-Hot|Cluster|Hot-News|Interest-Hot-V1",
                          "score": 18.0226479,
                          "title_tag": ""
                      }
                  ],
                  "rerank_rule": "0|10|10|4:10:7|10",
                  "result_number": 4,
                  "top_image": 1,
                  "user_profile": 1,
                  "wxopenid": "o04IBAAkwhMinr2DXHZj9z_XX5BY"
              }
          ],
          "trace_id": "77889900"
      }
      ```

## week 109

* 上周工作
  * fe
    * diff，float精度千分位，量级万分位diff
    * 晒码会代码整理
    * fix item bug
  * push：gcc12编通，并提交MR。c++20&gcc12&trpc0.9.20
* 本周计划
  * fe：arena
  * 晒码会
  * push升级gcc12
* 02/27
  * fe
    * 根据cr意见修改
  * [代码治理分析](https://doc.weixin.qq.com/doc/w3_AOEAAQaCACcxraqqKJrSI6c0Pc8oI?scode=AJEAIQdfAAocfBe0RQAOEAAQaCACc)
* 02/28
  * fe
    * 根据cr意见修改：改名、特征抽取函数放到类中
  * push
    * 下午17-18停发
* 03/01
  * 准备晒码会
    * donghaoshi及其他todo
    * 李康给的分享链接
  * push
    * 洪彬的需求——排到3.13
* 03/02
  * [x] 晒码会todo
  * [x] 资源利用率，3个服务
  * [ ] 代码治理规划
  * [ ] fe
    * [ ] 对象池——需要避免调用构造函数，另外从arena改成std::map
    * [ ] 编译期校验——可以加个简单的，但是报错信息并不是很直观。另外static变量在单测期也可以兜住，有exception的what打出来。编译期校验暂不加了
* 03/03
  * fe
    * 对象池
    * Diff
  * 代码治理规划



## week 110

* 上周工作
  * 晒码会&cr意见修改
  * 调研对象池
* 本周计划
  * 调试对象池
  * push 升级gcc12
* 其他
* 03/06
  * fe v2实验负向显著
    * diff：除31外，无显著diff
* 03/07
  * [ ] 发下push文档
  * push
    * 讨论新分类方案
  * fe: v2再起个实验，多设置几个对照组
* 03/08
  * push
    * [ ] 文档
    * [x] 新分类推全
      * [ ] 文档
      * [ ] 代码

* todo
  * [x] google与软件工程
  * [ ] 工资构成、晋升体系、工作强度
    * [ ] 1、2天
    * [ ] 半年晋升
    * [ ] 10-7

## TODO

* [x] 柔性降级https://iwiki.woa.com/pages/viewpage.action?pageId=4007298021
* [x] 开下feedback 
* [x] gcc升级
  * [ ] 打镜像，解决编译问题

* [ ] LockFreeQueue，herb sutter的版本，concurrency in action的版本、TRPC_FMT_ERROR、fiber event wait
* [ ] Timing-process等的多线程worker实现、balance_seq_.fetch_add
* [ ] 实现：shared_ptr,DBD，trpc对象池
* [ ] astra::arena
* [ ] 试试A、T、M、UBSan？
* [ ] 特征抽取的意义
  * [ ] 代码治理：
    * [ ] 复用、退场、一致性
    * [ ] 代码稳定性


Push串讲-代码梳理

* 监控列一下：平均分
* recall
  * 主要分为x类：离线计算好，在线直接取（U2I，I2I，NewHot，SArticle，Edit，NewsDSSM）；在线根进行一些计算（Interest，Location，ClusterHot，coldStart）
* 索引
  * 索引池子多大？

* 问题
  * 自动降级能力
  * 重复代码：push和端内
    * clientClickHistoryFeatures、usersClickHistoryFeatures
  * c++ struct pb：不利于单测、无意义、从pb里取出来又塞到struct。profiles[index].set_city_code(city_code);
  * 已不再使用的实验代码退场
    * random_index_exp_remove_rate
    * is_enable_skip_toutiao_exp_set
    * get_index_opt == 2？summary_ab
    * enable_skip_huaweiw_fliter
  * Werror
  * redis高频代码：cache、redis密码、redis前缀每次都要拼接&接口不明确不好用、每次都构造一个redis对象、
    * 缺少cache
* 其他小问题
  * BusinessFilter::operator filter语义区分不明显
  * recall_merge 的上报，删下维度
  * filtered_reasons是否需要为string
  * RecallU2I 这个没用q36？
  * sendCount expire?、为啥有sentCount和getCount不对等
  * getNewsUnionIndex里索引的范围是否可以改为2天，或者避免使用魔数
* 后面和ginoshi对下
  * push的点击序列没收拢到画像中台？


```
#### universe
curl -H "Content-Type: application/json" -d '{"trace_id":"77889900", "user_info":[{"dev_id":"1c2a11406aa401f4_"}]}' http://9.21.148.230:11852/trpc.news_rs.recommend_trpc_universe.HttpRecommendService/Recommend | python2 -mjson.tool

curl -H "Content-Type: application/json" -d '{"trace_id":"12345", "user_info":[{"dev_id":"123"}]}' http://11.146.40.107:12758/trpc.news_rs.recommend_trpc_universe.HttpRecommendService/Recommend | python2 -mjson.tool


##
curl -H "Content-Type: application/json" -d '{"trace_id":"77889900", "data":[{"wxopenid":"o04IBAAkwhMinr2DXHZj9z_XX5BY","conf":"{\"exp\":\"tab\",\"city_tier\":\"3\"}"}]}' http://11.145.194.37:11697/trpc.news_rs.recommend_server_trpc.HttpRecommendService/Recommend | python2 -mjson.tool
base
curl -H "Content-Type: application/json" -d '{"trace_id":"77889900", "data":[{"wxopenid":"o04IBAAkwhMinr2DXHZj9z_XX5BY","conf":"{\"exp\":\"tab\",\"city_tier\":\"3\"}"}]}' http://11.146.41.48:12129/trpc.news_rs.recommend_server_trpc.HttpRecommendService/Recommend | python2 -mjson.tool

curl -H "Content-Type: application/json" -d '{"trace_id":"77889900", "data":[{"wxopenid":"donghongfeng","conf":"{\"exp\":\"tab\",\"city_tier\":\"3\"}"}]}' http://11.146.47.65:12276/trpc.news_rs.recommend_server_trpc.HttpRecommendService/Recommend | python2 -mjson.tool

curl -H "Content-Type: application/json" -d '{"trace_id":"77889900", "data":[{"wxopenid":"o04IBAB1JNL51BeicHWcZsT9ScVw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB1DrdigUfXBqd087TaQHYs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB4c--hfR8gbAu3Y8biUXhgo04IBABAmZWJX23CZTRNyTagI6nw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABXC7xkIiprknnCX2BSsHyY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-S_w4ISAQ0KomEQdP934o","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB5yb_MZkOEbx1rCIX07WpU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABU3phJPGnRVMGhPzcWZSCs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABV59vO8-X73ruMu-JbQ1e4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABLbKv9uosLgrtFnTmvPGuc","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8TjcpW7X0dyO6CI5N26vQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBNPDdhu_TRKaU_2S3JZuo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABaaWmhHSLUGQqAqs2gcCBI","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABc67dvswgdm7e7efsyc6fY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB0O7YDnYq1r2bP6yIH1G2c","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBGYvKAprmozLtLczobtYs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABI-RGAq6PVKayFZSpWEXME","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABApoBbQoC6CUnvIQS0czqE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABZjbyF7gnM9JA0MD_8HFs0","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABOyTUzQWk40dBKbpO5pqv4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8k43ieJmy1UImA6GDXrOM","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB_4oxwkjOGga_P9cD0OLyU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABWg13G8TOb3Noi_cBSARyU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABTZBhuKC924x8ZZL-jclmU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABFmsMGJF29_gZEj1K8vgu4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBnuJQozgyBlbM119ffwPA","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABcrDF63r0P0jPoEp0Qhm_w","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABDfCl9jc1Y7ntf9w-lKkOE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8gy23UpiwDpq1O_2zm9Ek","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABX-91IzchpX4JPqLYyunuw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB00XeV8h1jMK1Rx4aiJQ10","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABL70UxX14qF_WRTZdt0G1g","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB3ikWxdwyzq-H2saxG5AVQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABRJhXmyiwSpGKYZNKHsR8A","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAybYtZRSdMR9yAc-vlf8f8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABbGyj-vkWofX5tyOaidaOs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB7X2w94_YLB9IZQST_3h1I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB6vFWPjxkOZ6G11n0UjCKU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBKnb_WxU1ZvuUDm1MeTYE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-PfMkC3cwZgY5VIup5Trc","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8aSQCI-lvF3X2DREllFW8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB5AUOhoFRXfpI7cXCsAR8E","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABdcc0AzdV5_LUmXL7r7QTs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABIZeokuIOlej6gZFmKjRNs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABe2nED09E0R_D92jg2MaPk","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAv7z8rBhClKJ0iJNRAK6sU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB3NVsfs_e6527mjX8GnJs4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABQOWIdqKDV6y-VQ0hogZrI","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABU1Cj2ID_-GUJTRnDlvOhA","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAu36Ph-oDVxIJNqsNqE__w","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABSt98yGYACq6XEdN7iIi_8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABW8ycUuNKXDAsRH-J70ZjY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB9PV6UOZMXogxPteM2lqck","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB7o_uDG7kYIUnkKPC_Kpes","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABeTuVNsBylYP-qshpQ_Ftk","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-FXvsDEEAPEGmzsX2cwV8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABbktjNgJ7E8HpkWYNilDDU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABCCg1qmQf_umGvCGC1rAfo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB0VDUfNmSwGoVAuAAAm38g","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB9OhCy5NoG9Viti32Bmc1g","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAwFSILOhQAyeOODj40GAb4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABQXFOP5ofopUeZmQEuTuag","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB2udSuNj4_QcglMPWYBfGg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABSyfLDLLN7zxLR2ij22GOg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB6O3WZCr29DWNcgV_LEdkQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABDVKm6n_wxC93hbdoLsap0","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB_nsfDImQ0kgxQsyNFSO2Q","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABODlGniUaurcaX4Kp1LRKQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABOPOFRFj8yq9CiBrmIsuQo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB639JixiCGff43gydm_29I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAws0MV9R4VlFeRpPmCTLzQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABYOQumOPJwUpG-99gBFK2s","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABSGAnMggucdhy4vJ80a7Sw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABVNoHwOdTgvQ6hifT2-2cQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAvAOkUvOSuXZi_T4yMQ714","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABCy9r27RKbAu9d9Cbkdtz8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB_Mb1UTcTUHC17B9IHmLH8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABQ0Q2PNtOo9TgcBxEfdU9k","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABDgkX7AXHBuDcZEAKP3YRg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAwls_KMr4lhQ0bF_KJnfC8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABeE5jau0x-VqpAOkSza95I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABCuGNOSEYmIBa5_OeuOtaY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8W9zenzWp2scfSA4DUo1s","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB7pcQVqZKbXHp_hOL7460o","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-DRwoMEk4R8HfUoOUjRI8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABMTcxFm4fSJ5YQIIc_diuY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABWKO07UZVAIO9j3NWbki8w","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABL_JGbF_Dwigy2bmxOouno","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB0GbSd6REMmgWxe20w_9Yw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABA3MuNBBKLOYzpxr1pwbDo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB2ukuKMBFpmOppN8Mako2I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAuUAf0mjFf0_4WtBSiGVh8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABcq73FLNLWL3Z1vCM5ZEeQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABcNjUjG_LeyjfJrQmkt95k","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB1u2Q-ir5bT8F8c85KBPCU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB1IMiQhCMLgeROALstylyw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABb4nplS5lRx9B_kKca4Lwg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABUQIRcR_lRGKqMC2Jcfx4k","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABdILMZYMP9K7KSQWWt8aoE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAuQYclhmb3ZtjJE1TSToLY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"}]}' http://9.146.147.199:13937/trpc.news_rs.recommend_server_trpc.HttpRecommendService/Recommend | python2 -mjson.tool


curl -H "Content-Type: application/json" -d '{"trace_id":"77889900", "data":[{"wxopenid":"o04IBAB1JNL51BeicHWcZsT9ScVw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB1DrdigUfXBqd087TaQHYs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB4c--hfR8gbAu3Y8biUXhgo04IBABAmZWJX23CZTRNyTagI6nw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABXC7xkIiprknnCX2BSsHyY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-S_w4ISAQ0KomEQdP934o","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB5yb_MZkOEbx1rCIX07WpU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABU3phJPGnRVMGhPzcWZSCs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABV59vO8-X73ruMu-JbQ1e4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABLbKv9uosLgrtFnTmvPGuc","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8TjcpW7X0dyO6CI5N26vQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBNPDdhu_TRKaU_2S3JZuo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABaaWmhHSLUGQqAqs2gcCBI","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABc67dvswgdm7e7efsyc6fY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB0O7YDnYq1r2bP6yIH1G2c","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBGYvKAprmozLtLczobtYs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABI-RGAq6PVKayFZSpWEXME","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABApoBbQoC6CUnvIQS0czqE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABZjbyF7gnM9JA0MD_8HFs0","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABOyTUzQWk40dBKbpO5pqv4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8k43ieJmy1UImA6GDXrOM","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB_4oxwkjOGga_P9cD0OLyU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABWg13G8TOb3Noi_cBSARyU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABTZBhuKC924x8ZZL-jclmU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABFmsMGJF29_gZEj1K8vgu4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBnuJQozgyBlbM119ffwPA","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABcrDF63r0P0jPoEp0Qhm_w","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABDfCl9jc1Y7ntf9w-lKkOE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8gy23UpiwDpq1O_2zm9Ek","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABX-91IzchpX4JPqLYyunuw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB00XeV8h1jMK1Rx4aiJQ10","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABL70UxX14qF_WRTZdt0G1g","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB3ikWxdwyzq-H2saxG5AVQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABRJhXmyiwSpGKYZNKHsR8A","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAybYtZRSdMR9yAc-vlf8f8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABbGyj-vkWofX5tyOaidaOs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB7X2w94_YLB9IZQST_3h1I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB6vFWPjxkOZ6G11n0UjCKU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABBKnb_WxU1ZvuUDm1MeTYE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-PfMkC3cwZgY5VIup5Trc","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8aSQCI-lvF3X2DREllFW8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB5AUOhoFRXfpI7cXCsAR8E","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABdcc0AzdV5_LUmXL7r7QTs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABIZeokuIOlej6gZFmKjRNs","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABe2nED09E0R_D92jg2MaPk","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAv7z8rBhClKJ0iJNRAK6sU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB3NVsfs_e6527mjX8GnJs4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABQOWIdqKDV6y-VQ0hogZrI","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABU1Cj2ID_-GUJTRnDlvOhA","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAu36Ph-oDVxIJNqsNqE__w","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABSt98yGYACq6XEdN7iIi_8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABW8ycUuNKXDAsRH-J70ZjY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB9PV6UOZMXogxPteM2lqck","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB7o_uDG7kYIUnkKPC_Kpes","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABeTuVNsBylYP-qshpQ_Ftk","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-FXvsDEEAPEGmzsX2cwV8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABbktjNgJ7E8HpkWYNilDDU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABCCg1qmQf_umGvCGC1rAfo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB0VDUfNmSwGoVAuAAAm38g","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB9OhCy5NoG9Viti32Bmc1g","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAwFSILOhQAyeOODj40GAb4","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABQXFOP5ofopUeZmQEuTuag","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB2udSuNj4_QcglMPWYBfGg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABSyfLDLLN7zxLR2ij22GOg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB6O3WZCr29DWNcgV_LEdkQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABDVKm6n_wxC93hbdoLsap0","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB_nsfDImQ0kgxQsyNFSO2Q","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABODlGniUaurcaX4Kp1LRKQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABOPOFRFj8yq9CiBrmIsuQo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB639JixiCGff43gydm_29I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAws0MV9R4VlFeRpPmCTLzQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABYOQumOPJwUpG-99gBFK2s","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABSGAnMggucdhy4vJ80a7Sw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABVNoHwOdTgvQ6hifT2-2cQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAvAOkUvOSuXZi_T4yMQ714","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABCy9r27RKbAu9d9Cbkdtz8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB_Mb1UTcTUHC17B9IHmLH8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABQ0Q2PNtOo9TgcBxEfdU9k","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABDgkX7AXHBuDcZEAKP3YRg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAwls_KMr4lhQ0bF_KJnfC8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABeE5jau0x-VqpAOkSza95I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABCuGNOSEYmIBa5_OeuOtaY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB8W9zenzWp2scfSA4DUo1s","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB7pcQVqZKbXHp_hOL7460o","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB-DRwoMEk4R8HfUoOUjRI8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABMTcxFm4fSJ5YQIIc_diuY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABWKO07UZVAIO9j3NWbki8w","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABL_JGbF_Dwigy2bmxOouno","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB0GbSd6REMmgWxe20w_9Yw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABA3MuNBBKLOYzpxr1pwbDo","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB2ukuKMBFpmOppN8Mako2I","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAuUAf0mjFf0_4WtBSiGVh8","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABcq73FLNLWL3Z1vCM5ZEeQ","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABcNjUjG_LeyjfJrQmkt95k","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB1u2Q-ir5bT8F8c85KBPCU","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAB1IMiQhCMLgeROALstylyw","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABb4nplS5lRx9B_kKca4Lwg","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABUQIRcR_lRGKqMC2Jcfx4k","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBABdILMZYMP9K7KSQWWt8aoE","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"},{"wxopenid":"o04IBAAuQYclhmb3ZtjJE1TSToLY","conf":"{\"exp\":\"tab\",\"city_tier\":\"1\"}"}]}' http://9.235.132.253:11034/trpc.news_rs.recommend_server_trpc.HttpRecommendService/Recommend | python2 -mjson.tool

```

